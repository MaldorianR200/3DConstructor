<app-stack direction="column" class="form">
  <h1 class="adminTitle">{{ isCreate ? 'Создание' : 'Редактирование' }} типов</h1>

  <app-admin-form [form]="typesForm" (handleSubmit)="submit()">
    <app-stack direction="column" alignItems="end">

      <app-admin-input
        [control]="typesForm.get('type')!"
        [props]="{
            id: 'typesType',
            type: 'select',
            required: true,
            placeholder: 'Тип',
          }"
        [options]="types"
        optionLabel="label"
        optionValue="value"
      ></app-admin-input>

      <app-admin-input
        [control]="typesForm.get('name')!"
        [props]="{
          id: 'typesName',
          type: 'text',
          required: true,
          placeholder: 'Введите название',
        }"
      ></app-admin-input>

      <app-admin-input
        *ngIf="typesForm.get('type')?.value === 'MATERIAL'"
        [control]="typesForm.get('backWall')!"
        [props]="{
          id: 'typesActive',
          type: 'select',
          required: true,
          placeholder: 'Используется в задней стенке?',
          optionsBool: true,
          multiple: false,
        }"
      ></app-admin-input>

      <app-admin-input
        *ngIf="typesForm.get('type')?.value === 'MATERIAL'"
        [control]="typesForm.get('body')!"
        [props]="{
          id: 'typesActive',
          type: 'select',
          required: true,
          placeholder: 'Используется в корпусе?',
          optionsBool: true,
          multiple: false,
        }"
      ></app-admin-input>

      <app-admin-input
        *ngIf="typesForm.get('type')?.value === 'MATERIAL'"
        [control]="typesForm.get('facade')!"
        [props]="{
          id: 'typesActive',
          type: 'select',
          required: true,
          placeholder: 'Используется в фасаде?',
          optionsBool: true,
          multiple: false,
        }"
      ></app-admin-input>

      <app-admin-input
        *ngIf="typesForm.get('type')?.value === 'MATERIAL'"
        [control]="typesForm.get('additionFacade')!"
        [props]="{
          id: 'typesActive',
          type: 'select',
          required: true,
          placeholder: 'Добавляется на фасад?',
          optionsBool: true,
          multiple: false,
        }"
      ></app-admin-input>

      <app-admin-input
        *ngIf="typesForm.get('type')?.value === 'MATERIAL'"
        [control]="typesForm.get('texture')!"
        [props]="{
          id: 'typesActive',
          type: 'select',
          required: true,
          placeholder: 'Есть текстура?',
          optionsBool: true,
          multiple: false,
        }"
      ></app-admin-input>

      <app-admin-input
        [control]="typesForm.get('active')!"
        [props]="{
          id: 'typesActive',
          type: 'select',
          required: true,
          placeholder: 'Активно?',
          optionsBool: true,
          multiple: false,
        }"
      ></app-admin-input>

      <app-admin-input
        [control]="typesForm.get('other')!"
        [props]="{
          id: 'typesOther',
          type: 'text',
          required: false,
          placeholder: 'Дополнительная информация',
        }"
      ></app-admin-input>

      <app-admin-input
        *ngIf="typesForm.get('active')?.value === false"
        [control]="typesForm.get('comment')!"
        [props]="{
          id: 'typesComment',
          type: 'text',
          required: false,
          placeholder: 'Введите комментарий',
        }"
      ></app-admin-input>

      <app-stack>
        <!-- Кнопка для открытия калькулятора площади -->
<!--        <app-admin-button (handleClick)="openAreaCalculator()" variant="gray">-->
<!--          Калькулятор площади-->
<!--        </app-admin-button>-->

        <app-admin-button *ngIf="!isCreate" (handleClick)="deleteChangeOpen()" variant="red">
          Удалить
        </app-admin-button>

        <app-admin-button type="submit">
          {{ isCreate ? 'Создать' : 'Редактировать' }}
        </app-admin-button>
      </app-stack>
    </app-stack>
  </app-admin-form>
</app-stack>


<!-- Модалка удаления -->
<app-admin-modal [isOpen]="isOpenDelete" (handleChangeOpen)="deleteChangeOpen()">
  <app-stack direction="column" alignItems="center">
    <h4 class="adminTitle">Вы действительно хотите удалить?</h4>

    <app-stack>
      <app-admin-button (handleClick)="deleteChangeOpen()" variant="gray">Отмена</app-admin-button>
      <app-admin-button (handleClick)="delete()" variant="red">Удалить</app-admin-button>
    </app-stack>
  </app-stack>
</app-admin-modal>

<!--&lt;!&ndash; Модалка калькулятора площади &ndash;&gt;-->
<!--<app-admin-modal [isOpen]="isOpenAreaCalculator" (handleChangeOpen)="closeAreaCalculator()">-->
<!--  <app-stack direction="column" alignItems="center" class="area-calculator">-->
<!--    <h4 class="adminTitle">Калькулятор площади листа</h4>-->

<!--    <app-stack direction="column" gap="medium" style="width: 100%;">-->
<!--      &lt;!&ndash; Длина &ndash;&gt;-->
<!--      <app-admin-input-->
<!--        [control]="areaCalculatorForm.get('length')!"-->
<!--        [props]="{-->
<!--          id: 'length',-->
<!--          type: 'number',-->
<!--          required: true,-->
<!--          placeholder: 'Длина (мм)',-->
<!--        }"-->
<!--        (input)="calculateArea()"-->
<!--      ></app-admin-input>-->

<!--      &lt;!&ndash; Ширина &ndash;&gt;-->
<!--      <app-admin-input-->
<!--        [control]="areaCalculatorForm.get('width')!"-->
<!--        [props]="{-->
<!--          id: 'width',-->
<!--          type: 'number',-->
<!--          required: true,-->
<!--          placeholder: 'Ширина (мм)',-->
<!--        }"-->
<!--        (input)="calculateArea()"-->
<!--      ></app-admin-input>-->

<!--      &lt;!&ndash; Результат &ndash;&gt;-->
<!--      <div class="result-section">-->
<!--        <h5>Результат:</h5>-->
<!--        <div class="result-values">-->
<!--          <div class="result-item">-->
<!--            <span class="result-label">Площадь:</span>-->
<!--            <span class="result-value">{{ calculatedArea | number:'1.2-2' }} мм²</span>-->
<!--          </div>-->
<!--          <div class="result-item">-->
<!--            <span class="result-label">Площадь в метрах:</span>-->
<!--            <span class="result-value">{{ calculatedAreaInMeters | number:'1.4-4' }} м²</span>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </app-stack>-->

<!--    <app-stack>-->
<!--      <app-admin-button (handleClick)="closeAreaCalculator()" variant="red">Закрыть</app-admin-button>-->
<!--      <app-admin-button (handleClick)="resetAreaCalculator()" variant="gray">Сбросить</app-admin-button>-->
<!--    </app-stack>-->
<!--  </app-stack>-->
<!--</app-admin-modal>-->
